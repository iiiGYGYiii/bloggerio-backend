(this["webpackJsonpbloglist-frontend"]=this["webpackJsonpbloglist-frontend"]||[]).push([[0],{63:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var r,c=n(1),a=n(22),s=n.n(a),i=n(18),o=n(38),u=n(39),l=n(4),b={message:"",isBad:!1},j={type:"notification/CLEAR_MESSAGE"},d={type:"notification/IS_BAD"},p={type:"notification/IS_NOT_BAD"},h=!0,O=function(e,t){return function(n,c){n(function(e){return{type:"notification/ADD_MESSAGE",payload:e}}(e)),n(t?d:p);var a=setTimeout((function(){n(j)}),5e3);h&&(h=!1,r=a),r!==a&&(clearTimeout(r),r=a)}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"notification/ADD_MESSAGE":return Object(l.a)(Object(l.a)({},e),{},{message:t.payload});case"notification/CLEAR_MESSAGE":return Object(l.a)(Object(l.a)({},e),{},{message:""});case"notification/IS_BAD":return Object(l.a)(Object(l.a)({},e),{},{isBad:!0});case"notification/IS_NOT_BAD":return Object(l.a)(Object(l.a)({},e),{},{isBad:!1});default:return e}},m=n(2),x=n.n(m),v=n(6),g=n(21),w=n(15),y=n.n(w),N="",k=null,S=function(e){return k="bearer ".concat(e)},E=function(){var e=Object(v.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/blogs");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("There was an error",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(v.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:k}},e.prev=1,e.next=4,y.a.post("/api/blogs",t,n);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("/api/login",t);case 3:return n=e.sent,S(n.data.token),e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(v.a)(x.a.mark((function e(t,n){var r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:k}},c={likes:n+1},e.prev=2,e.next=5,y.a.patch("/api/blogs/"+t,c,r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("There ocurred an error while Liking a post",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:k}},e.prev=1,e.next=4,y.a.delete("/api/blogs/"+t,n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(v.a)(x.a.mark((function e(t,n){var r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:k}},e.prev=1,e.next=4,y.a.post("".concat(N,"/api/blogs/").concat(t,"/comment"),n,r);case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),A=null,_=function(e){return{type:"user/LOGIN",payload:e}},T={type:"user/LOGOUT"},U=function(e,t){e(T),window.localStorage.removeItem("loggedBlogUser")},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"user/LOGIN":return t.payload;case"user/LOGOUT":return A;default:return e}},q=[],M=function(e){return{type:"blogs/ADD_BLOG",payload:e}},F=function(e){return{type:"blogs/DELETE_BLOG",payload:e}},R=function(e){return{type:"blogs/INITIALIZE",payload:e}},P=function(e){return{type:"blogs/LIKE_BLOG",payload:e}},H=function(){var e=Object(v.a)(x.a.mark((function e(t,n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:r=e.sent,t(R(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(e,t){return function(){var n=Object(v.a)(x.a.mark((function n(r,c){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(P(e)),n.next=3,L(e,t);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},J=function(e,t){return{type:"blogs/COMMENT_BLOG",payload:{id:e,comment:t}}},Z=function(e,t){return function(){var n=Object(v.a)(x.a.mark((function n(r,c){var a;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D(e,t);case 2:a=n.sent,r(J(e,a.data));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"blogs/ADD_BLOG":return[].concat(Object(g.a)(e),[t.payload]);case"blogs/DELETE_BLOG":return e.filter((function(e){return e.id!==t.payload}));case"blogs/INITIALIZE":return t.payload;case"blogs/LIKE_BLOG":return e.map((function(e){return e.id===t.payload?Object(l.a)(Object(l.a)({},e),{},{likes:e.likes+1}):e}));case"blogs/COMMENT_BLOG":return e.map((function(e){return e.id===t.payload.id?Object(l.a)(Object(l.a)({},e),{},{comments:[].concat(Object(g.a)(e.comments),[t.payload.comment])}):e}));default:return e}},Y="/api/users",K=function(){var e=Object(v.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(Y);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(v.a)(x.a.mark((function e(t){var n,r,c,a,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.username,c=t.password,a={name:n,username:r,password:c},e.next=4,y.a.post(Y,a);case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/users/"+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=[],$=function(e){return{type:"users/ADD_USER",payload:e}},ee=function(e){return{type:"users/INITIALIZE_USERS",payload:e}},te=function(){var e=Object(v.a)(x.a.mark((function e(t,n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:r=e.sent,t(ee(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/ADD_USER":return[].concat(Object(g.a)(e),[t.payload]);case"users/INITIALIZE_USERS":return t.payload;default:return e}},re=Object(i.combineReducers)({notification:f,blogs:W,user:G,users:ne}),ce=Object(u.composeWithDevTools)(Object(i.applyMiddleware)(o.a)),ae=Object(i.createStore)(re,ce),se=n(8),ie=(n(63),n(3)),oe=n(9),ue=function(e){return e.blogs},le=n(7),be=(n(67),n(68),n(0)),je=function(e){return e.user},de=function(){var e=Object(c.useState)(!1),t=Object(oe.a)(e,2),n=t[0],r=t[1],a=Object(ie.c)(je),s=Object(ie.b)();return Object(be.jsx)("nav",{className:"navbar",children:Object(be.jsxs)("ul",{className:"navbar-nav show",children:[Object(be.jsxs)("div",{className:"navbar-menu m-right",children:[Object(be.jsx)("li",{className:"nav-item brand",children:Object(be.jsx)(se.b,{to:"/",children:"Blogger.IO"})}),Object(be.jsx)("div",{className:n?"menu-btn open":"menu-btn",onClick:function(){return r((function(e){return!e}))},children:Object(be.jsx)("div",{className:"menu-btn-burger"})})]}),Object(be.jsx)("div",{className:"navbar-menu",children:Object(be.jsxs)("div",{className:n?"navbar-menu nav-list show":"navbar-menu nav-list",children:[Object(be.jsx)("li",{className:"nav-item",children:Object(be.jsx)(se.b,{to:"/",children:"Home"})}),Object(be.jsx)("li",{className:"nav-item",children:Object(be.jsx)(se.b,{to:"/users",children:"Users"})}),a?Object(be.jsx)(be.Fragment,{children:Object(be.jsxs)("li",{className:"nav-item dropdown-container",id:"disp-user",children:["User",Object(be.jsxs)("ul",{children:[Object(be.jsx)("li",{className:"nav-item",children:Object(be.jsx)(se.b,{to:"/user/".concat(a.id),id:"disp-username",children:a.username})}),Object(be.jsx)("li",{id:"log-out",onClick:function(){s(U)},className:"nav-item",children:"Log out"})]})]})}):Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)("li",{className:"nav-item",children:Object(be.jsx)(se.b,{id:"log-in-a",to:"/login",children:"Log In"})}),Object(be.jsx)("li",{className:"nav-item",children:Object(be.jsx)(se.b,{className:"sign-up-btn",to:"/signup",children:"Sign Up"})})]})]})})]})})},pe=(n(72),n(16)),he=(n(73),n(25)),Oe=function(e){var t=e.handleChange,n=e.placeHolder,r=e.label,c=Object(he.a)(e,["handleChange","placeHolder","label"]);return Object(be.jsxs)("tr",{children:[Object(be.jsx)("td",{children:Object(be.jsxs)("label",{children:[r,":"]})}),Object(be.jsx)("td",{children:Object(be.jsx)("input",Object(l.a)({className:"login-input",onChange:t,placeholder:n,id:r.split(" ").join("-")},c))})]})},fe=(n(74),function(e){var t=e.children,n=e.id;return Object(be.jsx)("input",{value:t,id:n,type:"submit",className:"btn login-btn"})}),me={author:"",title:"",url:""},xe=function(e){var t=e.testSubmit,n=Object(ie.b)(),r=Object(c.useState)(me),a=Object(oe.a)(r,2),s=a[0],i=a[1],o=function(e){var t=e.target;i((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(pe.a)({},t.name,t.value))}))};return Object(be.jsx)("form",{className:"blog-form",onSubmit:t||function(e){e.preventDefault(),n(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n,r){var c,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=r().user,t.next=4,I(e);case 4:(a=t.sent).error||(n(M(Object(l.a)(Object(l.a)({},a),{},{user:c}))),n(O("Blog was created successfully! :D",!1))),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),n(U),n(O("Session has expired, login again.",!0)),window.localStorage.removeItem("loggedBlogUser");case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()}(s)),i(me)},children:Object(be.jsx)("table",{id:"blog-form",children:Object(be.jsxs)("tbody",{children:[Object(be.jsx)(Oe,{handleChange:o,value:s.title,type:"text",name:"title",label:"title",required:!0}),Object(be.jsx)(Oe,{handleChange:o,value:s.author,type:"text",name:"author",label:"author",required:!0}),Object(be.jsx)(Oe,{handleChange:o,value:s.url,type:"text",name:"url",label:"url",required:!0}),Object(be.jsx)("tr",{children:Object(be.jsx)("td",{colSpan:"2",children:Object(be.jsx)(fe,{id:"submit-blog",children:"Create"})})})]})})})},ve=(n(75),function(e){var t=e.title,n=e.ID;return Object(be.jsx)(se.b,{to:"/blogs/"+n,className:"blog-item",children:t})}),ge=(n(76),function(e){var t=e.children,n=e.buttonLabel,r=Object(c.useState)(!1),a=Object(oe.a)(r,2),s=a[0],i=a[1],o=function(){i((function(e){return!e}))};return Object(be.jsx)("div",{className:s?"show-blog-form showing-form":"show-blog-form",children:s?Object(be.jsxs)(be.Fragment,{children:[t," ",Object(be.jsx)("button",{className:"btn",onClick:o,children:"Close"})," "]}):Object(be.jsx)("button",{className:"btn",onClick:o,children:n})})}),we=function(e){return e.user},ye=function(e){return e.blogs},Ne=function(){var e=Object(ie.c)(we),t=Object(ie.c)(ye);return Object(be.jsxs)("div",{className:"blogs",children:[e&&Object(be.jsx)(ge,{buttonLabel:"Create Blog",children:Object(be.jsx)(xe,{})}),t.sort((function(e,t){return t.likes-e.likes})).map((function(e){return Object(be.jsx)(ve,{title:e.title,ID:e.id},e.id)}))]})},ke=(n(77),function(e){return e.notification}),Se=function(){var e=Object(ie.c)(ke),t=e.message,n=e.isBad;return t&&Object(be.jsx)("div",{className:n?"bad-msg":"good-msg",children:Object(be.jsx)("h2",{children:t})})},Ee=(n(78),function(){return Object(be.jsx)("footer",{className:"footer",children:Object(be.jsxs)("em",{children:[Object(be.jsx)("span",{className:"brand",children:"Blogger.IO"})," app, Full Stack Open 2021 - iiiGYGYiii \xa9 "]})})}),Ie=(n(79),function(e){var t,n=e.likesTest,r=Object(le.g)(),c=Object(le.h)().id,a=Object(ie.c)((t=c,function(e){return e.blogs.find((function(e){return e.id===t}))})),s=Object(ie.c)((function(e){return e.user})),i=Object(ie.b)();a||(r.push("/"),i(O("404: Blog doesn't exist",!0)));var o=a.author,u=a.title,l=a.url,b=a.user,j=a.likes,d=function(){var e=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(z(c,j));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(be.jsx)("div",{className:"blog-container",children:Object(be.jsxs)("div",{className:"blog-card",children:[Object(be.jsxs)("h3",{children:[" ",u," "]})," ",Object(be.jsxs)("h4",{children:["By: ",o," "]}),Object(be.jsx)("hr",{}),Object(be.jsxs)("p",{children:[" Url: ",l," "]}),Object(be.jsxs)("p",{children:[" Posted by: ",Object(be.jsx)(se.b,{id:"link-to-user",to:"/user/".concat(b.id),children:b.username})," "]}),Object(be.jsxs)("p",{className:"like-par",children:[" Likes: ",j,s&&Object(be.jsx)("span",{onClick:n||d,className:"like-btn",children:"Like! \ud83d\udc4d"})]}),Object(be.jsx)("p",{children:b.username===(null===s||void 0===s?void 0:s.username)&&Object(be.jsx)("span",{id:"delete",style:{backgroundColor:"red",color:"white",fontWeight:"bold",borderRadius:"6px",padding:"5px",cursor:"pointer"},onClick:function(){window.confirm("You want to delete ".concat(u," by ").concat(o,"?"))&&(i(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n,r){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B(e);case 3:n(O("Blog deleted successfully.",!1)),n(F(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(O("Ocurred an error while deleting, try again later",!0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}(c)),r.push("/"))},children:"DELETE"})})]})})}),Ce=(n(80),n(81),function(e){var t=e.handleChange,n=e.placeHolder,r=e.label,c=Object(he.a)(e,["handleChange","placeHolder","label"]);return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("label",{id:r.split(" ").join("-")+"-label",children:[r,":"]}),Object(be.jsx)("input",Object(l.a)({className:"login-input",onChange:t,placeholder:n,id:r.split(" ").join("-")},c))]})}),Le={username:"",password:""},Be=function(){var e=Object(ie.c)((function(e){return e.user})),t=Object(le.g)(),n=Object(ie.b)(),r=Object(c.useState)(Le),a=Object(oe.a)(r,2),s=a[0],i=a[1],o=function(e){var t=e.target;i((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(pe.a)({},t.name,t.value))}))};return e?Object(be.jsx)(le.a,{to:"/"}):Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("h1",{id:"log-in-header",children:["Log in to ",Object(be.jsx)("span",{className:"brand",children:"Blogger.IO"})]}),Object(be.jsxs)("form",{className:"log-in-form",onSubmit:function(e){var r;e.preventDefault(),n((r=s,function(){var e=Object(v.a)(x.a.mark((function e(t,n){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(r);case 3:(c=e.sent).error||(window.localStorage.setItem("loggedBlogUser",JSON.stringify(c)),t(_(c))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(O("Username or Password incorrect.",!0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}())),i(Le),t.push("/")},children:[Object(be.jsx)(Ce,{handleChange:o,value:s.username,type:"text",name:"username",label:"username",required:!0}),Object(be.jsx)(Ce,{handleChange:o,value:s.password,type:"password",name:"password",label:"password",required:!0}),Object(be.jsx)(fe,{id:"log-in",children:"Log In"})]})]})},De=(n(82),{name:"",username:"",password:"",confirmPassword:""}),Ae=function(){var e=Object(ie.c)((function(e){return e.user})),t=Object(c.useState)(De),n=Object(oe.a)(t,2),r=n[0],a=n[1],s=Object(le.g)(),i=Object(ie.b)(),o=function(e){a((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(pe.a)({},e.target.name,e.target.value))}))},u=function(){var e=Object(v.a)(x.a.mark((function e(t){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r.password===r.confirmPassword){e.next=4;break}return i(O("Passwords don't match.",!0)),e.abrupt("return");case 4:if(!/\W/.test(r.username)){e.next=7;break}return i(O("Username cannot contain special characters.",!0)),e.abrupt("return");case 7:return e.prev=7,e.next=10,Q({username:r.username,name:r.name,password:r.password});case 10:n=e.sent,i($(n)),i(O("User created successfully!",!1)),s.push("/"),a(De),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),i(O(null===(c=e.t0.response)||void 0===c?void 0:c.data.error,!0));case 20:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t){return e.apply(this,arguments)}}();return e?Object(be.jsx)(le.a,{to:"/"}):Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("h1",{id:"log-in-header",children:["Sign up to ",Object(be.jsx)("span",{className:"brand",children:"Blogger.IO"})]}),Object(be.jsx)(Se,{}),Object(be.jsxs)("form",{className:"log-in-form",onSubmit:u,children:[Object(be.jsx)(Ce,{handleChange:o,value:r.name,type:"text",name:"name",label:"name",required:!0}),Object(be.jsx)(Ce,{handleChange:o,value:r.username,type:"text",name:"username",label:"username",required:!0}),Object(be.jsx)(Ce,{handleChange:o,value:r.password,type:"password",name:"password",label:"password",required:!0}),Object(be.jsx)(Ce,{handleChange:o,value:r.confirmPassword,type:"password",name:"confirmPassword",label:"confirmPassword",required:!0}),Object(be.jsx)(fe,{id:"sign-up-btn",children:"Sign Up!"})]})]})},_e=(n(83),function(){var e=function(){var e=Object(ie.b)();return Object(c.useEffect)((function(){e(te)}),[e]),Object(ie.c)((function(e){return e.users}))}();return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)("h1",{id:"users-title",children:"USERS"}),Object(be.jsx)("hr",{}),Object(be.jsx)("h3",{children:"Check what they write about!"}),Object(be.jsx)("ul",{id:"users-table",children:e.map((function(e){return Object(be.jsx)("li",{className:"users-list-item",children:Object(be.jsx)(se.b,{to:"/user/".concat(e.id),children:e.username})},e.id)}))})]})}),Te=(n(84),function(){var e=function(e){var t=Object(c.useState)(null),n=Object(oe.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){V(e).then((function(e){return a(e)}))}),[e]),r}(Object(le.h)().id);return e?Object(be.jsxs)("main",{children:[e.name&&Object(be.jsx)("h2",{children:e.name}),Object(be.jsxs)("h3",{children:["@",e.username]}),Object(be.jsx)("hr",{}),Object(be.jsxs)("h2",{children:["Blogs posted: ",e.blogs.length]}),Object(be.jsx)("ul",{className:"display-list",children:e.blogs.map((function(e){return Object(be.jsx)("li",{className:"users-list-item user-blogs-item",children:Object(be.jsx)(se.b,{to:"/blogs/"+e.id,children:e.title})},e.id)}))})]}):Object(be.jsx)("main",{children:Object(be.jsx)("h1",{children:"404 NOT FOUND"})})}),Ue=(n(85),function(){var e=Object(le.h)().id,t=Object(ie.b)(),n=Object(ie.c)((function(e){return e.user})),r=Object(c.useState)(""),a=Object(oe.a)(r,2),s=a[0],i=a[1],o=Object(ie.c)((function(t){var n;return t.blogs&&(null===(n=t.blogs.filter((function(t){return t.id===e}))[0])||void 0===n?void 0:n.comments)})),u=function(){var n=Object(v.a)(x.a.mark((function n(r){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),!(s.length<=3)){n.next=4;break}return alert("Comment must have at least a length of 3"),n.abrupt("return");case 4:t(Z(e,{content:s})),r.target.comment.value="";case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(be.jsxs)("div",{className:"comment-container",children:[Object(be.jsx)("div",{className:"comment-header",children:Object(be.jsx)("h1",{children:"Comments:"})}),Object(be.jsx)("div",{className:"comment-section",children:o&&o.length?Object(be.jsx)("ul",{id:"comment-list",children:o.map((function(e){return Object(be.jsxs)("li",{className:"comment-item",children:[e.content,Object(be.jsx)("em",{style:{marginLeft:"1em"},children:" - Anonymous"})]},e.id)}))}):Object(be.jsx)("h2",{id:"no-comments",children:"There are no comments yet. Be the first on comment"})}),Object(be.jsx)("div",{className:"comment-form",children:n?Object(be.jsxs)("form",{onSubmit:u,id:"comment-form",children:[Object(be.jsx)("input",{id:"comment-input",type:"text-area",name:"comment",onChange:function(e){i(e.target.value)},required:!0}),Object(be.jsx)("input",{id:"comment-submit",type:"submit",value:"Comment"})]}):Object(be.jsx)("h3",{style:{color:"red"},children:"Must be logged to comment."})})]})});var Ge=function(){return function(){var e=Object(ie.b)();Object(c.useEffect)((function(){e(H)}),[e]),Object(ie.c)(ue)}(),function(){var e=Object(ie.b)();Object(c.useEffect)((function(){var t=window.localStorage.getItem("loggedBlogUser");if(t){var n=JSON.parse(t);e(_(n)),S(n.token)}}),[e])}(),Object(be.jsxs)("div",{className:"App",children:[Object(be.jsx)("header",{children:Object(be.jsx)(de,{})}),Object(be.jsxs)(le.d,{children:[Object(be.jsx)(le.b,{path:"/login",children:Object(be.jsx)("main",{children:Object(be.jsx)(Be,{})})}),Object(be.jsx)(le.b,{path:"/blogs/:id",children:Object(be.jsxs)("main",{className:"main-blog",children:[Object(be.jsx)(Ie,{}),Object(be.jsx)(Ue,{})]})}),Object(be.jsx)(le.b,{path:"/signup",children:Object(be.jsx)("main",{children:Object(be.jsx)(Ae,{})})}),Object(be.jsx)(le.b,{path:"/user/:id",children:Object(be.jsx)(Te,{})}),Object(be.jsx)(le.b,{path:"/users",children:Object(be.jsx)("main",{children:Object(be.jsx)(_e,{})})}),Object(be.jsx)(le.b,{path:"/",children:Object(be.jsxs)("main",{children:[Object(be.jsx)(Se,{}),Object(be.jsx)(Ne,{})]})})]}),Object(be.jsx)(Ee,{})]})};s.a.render(Object(be.jsx)(se.a,{children:Object(be.jsx)(ie.a,{store:ae,children:Object(be.jsx)(Ge,{})})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.eeeb0430.chunk.js.map